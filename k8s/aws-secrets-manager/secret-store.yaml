apiVersion: external-secrets.io/v1beta1
kind: SecretStore
metadata:
  name: aws-secrets-manager
  namespace: atlas-alerts
spec:
  provider:
    aws:
      service: SecretsManager
      region: us-east-1  # Update with your AWS region
      auth:
        # Option 1: Use IAM Role for Service Account (IRSA) - Recommended
        jwt:
          serviceAccountRef:
            name: atlas-alerts-sa
        # Option 2: Use static credentials (less secure, for testing only)
        # secretRef:
        #   accessKeyIDSecretRef:
        #     name: aws-credentials
        #     key: access-key-id
        #   secretAccessKeySecretRef:
        #     name: aws-credentials
        #     key: secret-access-key
